{"version":3,"sources":["src/js/windows.js","src/index.js"],"names":["Window","el","initX","initY","width","height","style","zIndex","window","maxZIndex","isGrabbed","isInit","grabOffset","x","y","dataset","rectangle","getBoundingClientRect","posX","Math","random","innerWidth","posY","innerHeight","setWindowPosition","addEventListener","e","onMouseDown","classList","add","clientX","clientY","transform","windowEl","document","querySelectorAll","windowList","forEach","push","win","remove"],"mappings":";AAoDG,aAAA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EApDkBA,IAAAA,EAAAA,WACPC,SAAAA,EAAAA,EAAIC,EAAOC,GAAO,IAAA,EAAA,KAAA,EAAA,KAAA,GACvBF,KAAAA,GAAKA,EAGNG,IAAAA,EAAQ,IACRC,EAAS,IAERJ,KAAAA,GAAGK,MAAMC,OAASC,OAAOC,YAEzBC,KAAAA,WAAY,EACZC,KAAAA,QAAS,EAETC,KAAAA,WAAa,CAAEC,EAAG,EAAGC,EAAG,GAEzB,KAAKb,GAAGc,QAAQX,OAAS,KAAKH,GAAGc,QAAQV,SAC3CA,EAAS,KAAKJ,GAAGc,QAAQV,OACzBD,EAAQ,KAAKH,GAAGc,QAAQX,OAErBH,KAAAA,GAAGK,MAAMF,MAAQA,EAAQ,KACzBH,KAAAA,GAAGK,MAAMD,OAASA,EAAS,KAE1BW,IAAAA,EAAY,KAAKf,GAAGgB,wBAGrBC,KAAAA,KAAOC,KAAKC,UAAYZ,OAAOa,WAAaL,EAAUZ,OACtDkB,KAAAA,KAAOH,KAAKC,UAAYZ,OAAOe,YAAcP,EAAUX,QACvDmB,KAAAA,oBAELvB,EAAGwB,iBAAiB,YAAa,SAACC,GAAM,OAAA,EAAKC,YAAYD,KAuB1D,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,cArBWA,MAAAA,SAAAA,GACLzB,KAAAA,GAAGK,MAAMC,OAASC,OAAOC,YACzBC,KAAAA,WAAY,EACZT,KAAAA,GAAG2B,UAAUC,IAAI,cAGhBb,IAAAA,EAAY,KAAKf,GAAGgB,wBACrBL,KAAAA,WAAa,CAChBC,EAAGa,EAAEI,QAAUd,EAAUH,EACzBC,EAAGY,EAAEK,QAAUf,EAAUF,KAY5B,CAAA,IAAA,oBATmB,MAAA,WACZE,IAAAA,EAAY,KAAKf,GAAGgB,wBACtB,KAAKhB,GAAGc,QAAQb,OAAS,KAAKD,GAAGc,QAAQZ,QACtCe,KAAAA,KACF,KAAKjB,GAAGc,QAAQb,MAAQ,KAAQM,OAAOa,WAAaL,EAAUZ,OAC5DkB,KAAAA,KACF,KAAKrB,GAAGc,QAAQZ,MAAQ,KAAQK,OAAOe,YAAcP,EAAUX,SAE/DJ,KAAAA,GAAGK,MAAM0B,UAA2B,eAAA,OAAA,KAAKd,KAAW,QAAA,OAAA,KAAKI,KAA9D,cACD,EApDkBtB,GAoDlB,QAAA,QAAA;;AC1BH,aA1BA,IAAA,EAAA,EAAA,QAAA,iBA0BA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAxBA,IAAMiC,EAAWC,SAASC,iBAAiB,eACrCC,EAAa,GAEnB5B,OAAOC,UAAY,EAEnBwB,EAASI,QAAQ,SAACpC,GAChBmC,EAAWE,KAAK,IAAItC,EAAJ,QAAWC,MAG7BO,OAAOiB,iBAAiB,UAAW,WACjCW,EAAWC,QAAQ,SAACE,GAClBA,EAAI7B,WAAY,EAChB6B,EAAItC,GAAG2B,UAAUY,OAAO,kBAG5BhC,OAAOiB,iBAAiB,YAAa,SAACC,GACpCU,EAAWC,QAAQ,SAACE,GACdA,EAAI7B,YACN6B,EAAItC,GAAGK,MAAM0B,UACXN,eAAAA,OAAAA,EAAEI,QAAUS,EAAI3B,WAAWC,EACtBa,QAAAA,OAAAA,EAAEK,QAAUQ,EAAI3B,WAAWE,EAFlC,eAMNN,OAAOiB,iBAAiB,SAAU,WAChCW,EAAWC,QAAQ,SAACE,GAClBA,EAAIf","file":"src.a27b50e0.js","sourceRoot":"..","sourcesContent":["export default class Window {\r\n  constructor(el, initX, initY) {\r\n    this.el = el;\r\n\r\n    // Taille de base\r\n    let width = 300;\r\n    let height = 300;\r\n\r\n    this.el.style.zIndex = window.maxZIndex++;\r\n\r\n    this.isGrabbed = false;\r\n    this.isInit = false;\r\n\r\n    this.grabOffset = { x: 0, y: 0 };\r\n\r\n    if (this.el.dataset.width && this.el.dataset.height) {\r\n      height = this.el.dataset.height;\r\n      width = this.el.dataset.width;\r\n    }\r\n    this.el.style.width = width + \"px\";\r\n    this.el.style.height = height + \"px\";\r\n\r\n    const rectangle = this.el.getBoundingClientRect();\r\n\r\n    // Position toujours dans la page\r\n    this.posX = Math.random() * (window.innerWidth - rectangle.width);\r\n    this.posY = Math.random() * (window.innerHeight - rectangle.height);\r\n    this.setWindowPosition();\r\n\r\n    el.addEventListener(\"mousedown\", (e) => this.onMouseDown(e));\r\n  }\r\n  onMouseDown(e) {\r\n    this.el.style.zIndex = window.maxZIndex++;\r\n    this.isGrabbed = true;\r\n    this.el.classList.add(\"is-grabbed\");\r\n\r\n    // computing offset between mouse and card origin\r\n    const rectangle = this.el.getBoundingClientRect();\r\n    this.grabOffset = {\r\n      x: e.clientX - rectangle.x,\r\n      y: e.clientY - rectangle.y,\r\n    };\r\n  }\r\n  setWindowPosition() {\r\n    const rectangle = this.el.getBoundingClientRect();\r\n    if (this.el.dataset.initX && this.el.dataset.initY) {\r\n      this.posX =\r\n        (this.el.dataset.initX / 100) * (window.innerWidth - rectangle.width);\r\n      this.posY =\r\n        (this.el.dataset.initY / 100) * (window.innerHeight - rectangle.height);\r\n    }\r\n    this.el.style.transform = `translate3d(${this.posX}px, ${this.posY}px, 0)`;\r\n  }\r\n}\r\n","import Window from \"./js/windows\";\r\n\r\nconst windowEl = document.querySelectorAll(\".windows li\");\r\nconst windowList = [];\r\n\r\nwindow.maxZIndex = 0;\r\n\r\nwindowEl.forEach((el) => {\r\n  windowList.push(new Window(el));\r\n});\r\n\r\nwindow.addEventListener(\"mouseup\", () => {\r\n  windowList.forEach((win) => {\r\n    win.isGrabbed = false;\r\n    win.el.classList.remove(\"is-grabbed\");\r\n  });\r\n});\r\nwindow.addEventListener(\"mousemove\", (e) => {\r\n  windowList.forEach((win) => {\r\n    if (win.isGrabbed) {\r\n      win.el.style.transform = `translate3d(${\r\n        e.clientX - win.grabOffset.x\r\n      }px, ${e.clientY - win.grabOffset.y}px, 0)`;\r\n    }\r\n  });\r\n});\r\nwindow.addEventListener('resize', ()=>{\r\n  windowList.forEach((win) => {\r\n    win.setWindowPosition();\r\n  });\r\n})"]}