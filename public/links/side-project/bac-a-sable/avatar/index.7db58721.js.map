{"mappings":"kBAAMA,EAAsBC,SAASC,cAAc,WAC7CC,EAA6BF,SAASC,cAAc,mBACpDE,EAAsBH,SAASC,cAAc,eACnDG,OAAOC,iBAAiB,QAAQ,IAAMC,UAElCC,EAAa,EACbC,EAAa,EACbC,EAAc,EACdC,EAAc,EAoBlB,SAAAC,EAAqBC,UACZ,EAAIC,KAAKC,IAAI,EAAIF,EAAG,GAG7B,SAAAN,IACEH,EAAOY,MAAMC,MAAQd,EAAce,wBAAwBD,MAAQ,KACnEb,EAAOY,MAAMG,OAAShB,EAAce,wBAAwBC,OAAS,KAxBvElB,SAASK,iBAAiB,aAAcc,UAChCC,EAAUD,EAAEE,QAAUjB,OAAOkB,WAAc,EAAI,EAEnDb,EADEW,GAAU,EACET,EAAYS,IAEXT,GAAaS,SAExBG,EAAUJ,EAAEK,QAAUpB,OAAOqB,YAAe,EAAI,EAEpDf,EADEa,GAAU,EACEZ,EAAYY,IAEXZ,GAAaY,GAK9BnB,OAAOC,iBAAiB,UAAU,IAAMC,aAWtCoB,EAAgB,EAChBC,EAAgB,EAQpB,SAAAC,EAAcC,EAAOC,EAAKC,UAChB,EAAIA,GAAOF,EAAQE,EAAMD,EAFnCE,uBALA,SAAAC,KAUA,iBACQC,EAAiB,GACjBC,EAAe,GACrB5B,EAAaqB,EAAKrB,EAAYE,EAAcyB,EAAgB,EAAIC,GAChE3B,EAAaoB,EAAKpB,EAAYE,EAAcwB,EAAgB,EAAIC,GAEhEpC,EAAOgB,MAAMqB,UAAAA,eAA2B7B,OAAgBC,WACxDN,EAAca,MAAMqB,UAAAA,2BAAuC7B,oBAA6BC,YAhBxF6B,GAkBF,iBACQF,EAAe,GACrBT,EAAgBE,EAAKF,EAAenB,EAAY,EAAI4B,GACpDR,EAAgBC,EAAKD,EAAenB,EAAY,EAAI2B,GAEpDhC,EAAOY,MAAMqB,UAAAA,2BAAuCV,oBAAgCC,YAtBpFW,GACAN,sBAAsBC","sources":["./src/index.ts"],"sourcesContent":["const avatar: HTMLElement = document.querySelector(\".avatar\");\r\nconst avatarWrapper: HTMLElement = document.querySelector(\".avatar-wrapper\");\r\nconst shadow: HTMLElement = document.querySelector(\".red-shadow\");\r\nwindow.addEventListener(\"load\", () => initShadow());\r\n\r\nlet boxOffsetX = 0;\r\nlet boxOffsetY = 0;\r\nlet xRatioEased = 0;\r\nlet yRatioEased = 0;\r\n\r\ndocument.addEventListener(\"mousemove\", (e) => {\r\n  const xRatio = (e.clientX / window.innerWidth) * 2 - 1;\r\n  if (xRatio >= 0) {\r\n    xRatioEased = easeOutExpo(xRatio);\r\n  } else {\r\n    xRatioEased = -easeOutExpo(-xRatio);\r\n  }\r\n  const yRatio = (e.clientY / window.innerHeight) * 2 - 1;\r\n  if (yRatio >= 0) {\r\n    yRatioEased = easeOutExpo(yRatio);\r\n  } else {\r\n    yRatioEased = -easeOutExpo(-yRatio);\r\n  }\r\n\r\n  // shadow.style.transform = `translate3D(calc(-50% + ${boxOffsetX}px),calc(-50% + ${boxOffsetY}px),${0}px)`;\r\n\r\n  window.addEventListener(\"resize\", () => initShadow());\r\n});\r\nfunction easeOutExpo(x: number) {\r\n  return 1 - Math.pow(1 - x, 3);\r\n}\r\n\r\nfunction initShadow(): void {\r\n  shadow.style.width = avatarWrapper.getBoundingClientRect().width + \"px\";\r\n  shadow.style.height = avatarWrapper.getBoundingClientRect().height + \"px\";\r\n}\r\n\r\nlet shadowOffsetX = 0;\r\nlet shadowOffsetY = 0;\r\n\r\nfunction raf() {\r\n  moveBox();\r\n  moveShadow();\r\n  requestAnimationFrame(raf);\r\n}\r\nrequestAnimationFrame(raf);\r\nfunction lerp(start, end, amt) {\r\n  return (1 - amt) * start + amt * end;\r\n}\r\n\r\nfunction moveBox() {\r\n  const distanceFactor = 40;\r\n  const speedReducer = 15;\r\n  boxOffsetX = lerp(boxOffsetX, xRatioEased * distanceFactor, 1 / speedReducer);\r\n  boxOffsetY = lerp(boxOffsetY, yRatioEased * distanceFactor, 1 / speedReducer);\r\n\r\n  avatar.style.transform = `translate3D(${boxOffsetX}px,${boxOffsetY}px,${0}px)`;\r\n  avatarWrapper.style.transform = `translate3D(calc(-50% + ${boxOffsetX}px),calc(-50% + ${boxOffsetY}px),${0}px)`;\r\n}\r\nfunction moveShadow() {\r\n  const speedReducer = 15;\r\n  shadowOffsetX = lerp(shadowOffsetX, boxOffsetX, 1 / speedReducer);\r\n  shadowOffsetY = lerp(shadowOffsetY, boxOffsetY, 1 / speedReducer);\r\n\r\n  shadow.style.transform = `translate3D(calc(-50% + ${shadowOffsetX}px),calc(-50% + ${shadowOffsetY}px),${0}px)`;\r\n}\r\n"],"names":["$fe6805ae6a1acc57369ff96015183e28$var$avatar","document","querySelector","$fe6805ae6a1acc57369ff96015183e28$var$avatarWrapper","$fe6805ae6a1acc57369ff96015183e28$var$shadow","window","addEventListener","$fe6805ae6a1acc57369ff96015183e28$var$initShadow","$fe6805ae6a1acc57369ff96015183e28$var$boxOffsetX","$fe6805ae6a1acc57369ff96015183e28$var$boxOffsetY","$fe6805ae6a1acc57369ff96015183e28$var$xRatioEased","$fe6805ae6a1acc57369ff96015183e28$var$yRatioEased","$fe6805ae6a1acc57369ff96015183e28$var$easeOutExpo","x","Math","pow","style","width","getBoundingClientRect","height","e","xRatio","clientX","innerWidth","yRatio","clientY","innerHeight","$fe6805ae6a1acc57369ff96015183e28$var$shadowOffsetX","$fe6805ae6a1acc57369ff96015183e28$var$shadowOffsetY","$fe6805ae6a1acc57369ff96015183e28$var$lerp","start","end","amt","requestAnimationFrame","$fe6805ae6a1acc57369ff96015183e28$var$raf","distanceFactor","speedReducer","transform","$fe6805ae6a1acc57369ff96015183e28$var$moveBox","$fe6805ae6a1acc57369ff96015183e28$var$moveShadow"],"version":3,"file":"index.7db58721.js.map"}